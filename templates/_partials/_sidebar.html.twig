{% block sidebar %}
<div data-sidebar-state="open" class="sidebar d-flex flex-column flex-shrink-0 p-3 bg-light">
    <div class="sidebar-top d-flex align-items-center justify-content-center">
        <a href="{{ path('app_main_index') }}" class="d-flex align-items-center justify-content-center mb-md-0 link-dark text-decoration-none">
            <svg class="bi me-2" width="48" height="48">
                <image xlink:href="{{ asset('build/images/spur1_cropped.svg') }}" src="{{ asset('build/images/spur1_cropped.svg') }}" width="48" height="48"/>
            </svg>
            <span class="fs-2 font-gothic">{{'Spur1-Media'|upper}}</span>
        </a>
    </div>
    <hr>
    <div class="sidebar-middle">
        {% set navSidebar = knp_menu_get('navSidebar') %}
        {{ knp_menu_render(navSidebar, {'template': '_partials/sidebar/_menu.html.twig'}) }}
    </div>
    <hr>
    <div class="sidebar-bottom d-flex align-items-center justify-content-center">
        {% if app.user %}
        <div class="dropdown px-3">
            <a href="#" class="d-flex align-items-center link-dark text-decoration-none dropdown-toggle" id="sidebarDropdownUser" data-bs-toggle="dropdown" aria-expanded="false">
                {% if app.user.Image %}
                    <img src="{{ asset(app.User.Image) }}" alt="User Avatar" width="32" height="32" class="rounded-circle me-2">
                {% else %}
                    <img src="https://github.com/mdo.png" alt="User Avatar Not Defined" width="32" height="32" class="rounded-circle me-2">
                {% endif %}

                <strong>{{ app.user.Name }}</strong>
            </a>

            {% set navProfile = knp_menu_get('navProfile') %}
            {{ knp_menu_render(navProfile, {'template': '_partials/sidebar/_profile.html.twig'}) }}

        </div>
        {% else %}
            <a href="{{ path('app_login') }}" class="d-flex align-items-center justify-content-center link-dark text-decoration-none">
                <strong>{{ 'Login/Register'|trans }}</strong>
            </a>
        {% endif %}
    </div>
</div>
{% endblock %}